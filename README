README
======

About
-----
Baltrad Exchange, working name baltrad-exchange, is part of the BALTRAD project providing functionality for exchanging ODIM-H5 files with
other nodes. The first version of the software that provided this is called baltrad-dex. This second generation engine will replace the
publisher/subscriber parts within baltrad-dex that was developed within the BALTRAD and BALTRAD+ projects.

The publication/subscription mechanisms has been improved with the possibility to use different protocols
for distributing files in various ways. Files can be identified by using metadata filters. Active polling mechanisms
has been added when files has to be fetched from remote servers. The exchange can be run without an external
database (instead a local sqlite database is used for source lookups) which makes installation and configuration easier.

The software is written in python and is using parts of the baltrad-db APIs. If the files should be stored within the
baltrad-db, that is possible as well and the metadata matched will be the one that baltrad-db has returned.

Setting up development
----------------------
This description is valid for RedHat 8 based distributions. Other distributions requires installation from source for both bdb and hlhdf.

First, you will need to get the baltrad package repository and the dependencies installed. As super user
.. code:: .sh
  wget http://rpm.baltrad.eu/CentOS/8/latest/baltrad-package-latest.repo

%> sudo dnf install python3-lockfile python3-pycryptodomex python3-numpy python3-paramiko python3-scp
%> sudo dnf install baltrad-db*

Fetch the baltrad-exchange engine by downloading it from github.
%> cd /projects
%> git clone https://github.com/baltrad/baltrad-exchange.git
%> cd baltrad-exchange

The easiest way to start developing in baltrad-exchange is to create a virtual environment that will be used for local installations and tests.

Installation
------------
The installation of the software should only require the installation of hlhdf, bdbcommon and the python api for bdbclient as well as jprops.

Running the server
----------------------
T.B.D

