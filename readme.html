<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>README &#8212; baltrad-exchange 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=514cf933" />
    
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="User Guide" href="userguide.html" />
    <link rel="prev" title="baltrad-exchange documentation index" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="userguide.html" title="User Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="baltrad-exchange documentation index"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">baltrad-exchange 0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">README</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="readme">
<h1>README<a class="headerlink" href="#readme" title="Link to this heading">¶</a></h1>
<section id="about">
<h2>About<a class="headerlink" href="#about" title="Link to this heading">¶</a></h2>
<p>Baltrad Exchange, working name baltrad-exchange, is part of the BALTRAD project providing functionality for exchanging ODIM-H5 files with
other nodes. The first version of the software that provided this is called baltrad-dex. This second generation engine will replace the
publisher/subscriber parts within baltrad-dex that was developed within the BALTRAD and BALTRAD+ projects.</p>
<p>The publication/subscription mechanisms has been improved with the possibility to use different protocols
for distributing files in various ways. Files can be identified by using metadata filters. Active polling mechanisms
has been added when files has to be fetched from remote servers. The exchange can be run without an external
database (instead a local sqlite database is used for source lookups) which makes installation and configuration easier.</p>
<p>The software is written in python and is using parts of the baltrad-db APIs. If the files should be stored within the
baltrad-db, that is possible as well and the metadata matched will be the one that baltrad-db has returned.</p>
</section>
<section id="setting-up-development">
<h2>Setting up development<a class="headerlink" href="#setting-up-development" title="Link to this heading">¶</a></h2>
<p>This description is valid for RedHat 8 based distributions. Other distributions requires installation from source for both bdb and hlhdf.</p>
<p>First, you will need to get the baltrad package repository and the dependencies installed. As super user</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/etc/yum.repos.d/
%&gt;<span class="w"> </span>wget<span class="w"> </span>http://rpm.baltrad.eu/CentOS/8/latest/baltrad-package-latest.repo
%&gt;<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>python3-lockfile<span class="w"> </span>python3-pycryptodomex<span class="w"> </span>python3-numpy
%&gt;<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>python3-paramiko<span class="w"> </span>python3-scp
%&gt;<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>baltrad-db*
</pre></div>
</div>
<p>Fetch the baltrad-exchange engine by downloading it from github as your ordinary user</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/projects
%&gt;<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/baltrad/baltrad-exchange.git
%&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>baltrad-exchange
</pre></div>
</div>
<p>The easiest way to start developing in baltrad-exchange is to create a virtual environment that will be used for local installations and tests.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>--system-site-packages<span class="w"> </span>env
%&gt;<span class="w"> </span>.<span class="w"> </span>env/bin/activate
</pre></div>
</div>
<p>With the virtual environment created you can just install the baltrad-exchange software into your own environment by typing</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span>python3<span class="w"> </span>setup.py<span class="w"> </span>install
</pre></div>
</div>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>The installation of the software can either be done in a similar way to how the development environment is setup. You can either decide to
use a virtual environment for running the software or you can just install it without creating the virtual environment.</p>
<p>There is a third alternative as well and that is to use the prebuilt packages av available for the RH 8 distributions which is done by
running:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>baltrad-exchange
</pre></div>
</div>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h3>
<p>More information about installation and configuration can be found <a class="reference internal" href="userguide.html#userguide"><span class="std std-ref">here</span></a>.</p>
</section>
</section>
<section id="running-the-server">
<h2>Running the server<a class="headerlink" href="#running-the-server" title="Link to this heading">¶</a></h2>
<p>After the keys has been created and the baltrad-exchange.properties file has been updated. The fastest way to get going is to
run the server in foreground mode.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>%&gt;<span class="w"> </span>baltrad-exchange-server<span class="w"> </span>--conf<span class="o">=</span>./etc/baltrad-exchange.properties<span class="w"> </span><span class="se">\</span>
<span class="w">                    </span>--pidfile<span class="o">=</span>/tmp/be.pid<span class="w"> </span>--foreground
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">README</a><ul>
<li><a class="reference internal" href="#about">About</a></li>
<li><a class="reference internal" href="#setting-up-development">Setting up development</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-the-server">Running the server</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">baltrad-exchange documentation index</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="userguide.html"
                          title="next chapter">User Guide</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/readme.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="userguide.html" title="User Guide"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="baltrad-exchange documentation index"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">baltrad-exchange 0.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">README</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2022, Anders Henja.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>